(()=>{document.addEventListener("DOMContentLoaded",()=>{let a=document.body,r=document.getElementById("article-modal"),n=document.getElementById("modal-content");if(!r||!n){console.error("Modal elements not found");return}document.querySelectorAll(".article-card").forEach(t=>{t.style.cursor="pointer",t.addEventListener("click",o=>{o.stopPropagation(),o.preventDefault();let e=t.dataset.url,c=t.dataset.originalLink;e&&s(e,c)})});function s(t,o){a.classList.add("modal-open"),r.classList.add("is-active"),n.innerHTML="<p>Loading...</p>",fetch(t).then(e=>{if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return e.text()}).then(e=>{let i=new DOMParser().parseFromString(e,"text/html").querySelector(".article-content");if(i){let l="";o&&(l=`<p><a href="${o}" target="_blank" rel="noopener noreferrer">\u9605\u8BFB\u539F\u6587</a></p><hr>`),n.innerHTML=l+i.innerHTML}else n.innerHTML='<p>Could not load article content. The selector ".article-content" might be incorrect.</p>',console.error("Could not find '.article-content' in fetched document from URL:",t)}).catch(e=>{console.error("Failed to fetch article:",e),n.innerHTML=`<p>Error loading article. ${e.message}</p>`})}r.addEventListener("mouseleave",()=>{d()});function d(){r.classList.remove("is-active"),a.classList.remove("modal-open"),n.innerHTML=""}});})();
